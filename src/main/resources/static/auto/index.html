<!DOCTYPE html>
<html>

<head>
    <title>Admin</title>
    <link rel="shortcut icon" href="https://privatcredit.com.ua/wp-content/uploads/2018/05/installments-car.png">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>
    <meta charset="utf-8">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
        integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">

    <!-- Custom styles for this template -->
    <link href="../business-casual.css" rel="stylesheet">

</head>

<body ng-app="Car" onload="hide()"><br>
    <table width="100%">
            <tr>
            <td> &nbsp &nbsp &nbsp 
                <input value="Главная" type="submit" onclick="return location.href = '../main/main.html'"> 
            </td>
            <td align="right"> 
                <input value="Выйти" type="submit" onclick="return location.href = '../user/car_user.html'">&nbsp &nbsp &nbsp
            </td>
            </tr>
        </table>



    <div align="right"> <br>
        &nbsp &nbsp &nbsp
    </div>

    <div class="container" ng-controller="AutoController">
        <div class="bg-faded p-4 my-4">
            <h5 class="row card-header mb-0">
                <!-- <img src="../img/06magnify.png" width="30px" height="30px"> -->
                <input ng-model="searchText" class="inp col-10 offset-1 form-control " aria-describedby="emailHelp"
                    placeholder="Поиск">
            </h5>

            <div id="collapseOne" >
                <div class="card-body">
                    <form>
                        <div class="form-group"  >
                            <input type="text" id = "id_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="ID - Обязательно заполнять при редактировании" ng-model="id" ng-click="redirect(obj.id)"
                                required pattern="^[0-9]+$" ></input>
                            <input type="text" id = "mark_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Марка" ng-model="mark"
                                required></input>
                            <input type="text" id = "model_"  class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Модель" ng-model="model" 
                                required></input>
                            <input type="text"  id = "date_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Год выпуска" ng-model="date"
                                required pattern="[0-9]{4}" ></input>
                            <input type="text"  id = "motor_"  class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="ОбЪём двигателя" ng-model="motor"
                                required pattern="^[0-9]+$" ></input>
                            <input type="text"  id = "fuel_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Вид топлива" ng-model="fuel"
                                required></input>
                            <input type="text"  id = "color_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Цвет" ng-model="color"
                                required pattern="^[А-Яа-яЁё\s]+$"></input>
                            <input type="text"  id = "cost_" class="col-10 offset-1 form-control" aria-describedby="emailHelp"
                                placeholder="Цена,$" ng-model="cost"
                                required pattern="^[0-9]+$" ></input>
                        </div>
                        <div>
                            <button class="col-10 offset-1 form-control" type="submit" class="btn btn-primary" ng-click="addCar()"
                                ng-hide="addHide" type="submit">
                                Добавить
                            </button>
                            <button class="col-10 offset-1 form-control" type="submit" class="btn btn-primary" ng-click="updateCar()"
                                ng-hide="updateHide" type="submit">
                                Обновить
                            </button>
                            <div id="validator_filled" style="color: red; margin-top: 10px; margin-left: 84px;">
                                Заполните все поля</div>
                            <div id="validator_correct" style="color: red; margin-top: 10px; margin-left: 84px;">
                                Заполните все поля корректно</div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row pt-4">
                <div class="col-lg-12 table">
                    <table class="table-hover" width="100%">
                        <thead>
                            <tr class="row">
                                <td width="5%" align="center" style="font-family: MyWebFont3">ID</td>
                                <td width="10%" align="center" style="font-family: MyWebFont3">Марка</td>
                                <td width="10%" align="center" style="font-family: MyWebFont3">Модель</td>
                                <td width="10%" align="center" style="font-family: MyWebFont3">Выпуск, г</td>
                                <td width="15%" align="center" style="font-family: MyWebFont3">V двигателя, см³</td>
                                <td width="15%" align="center" style="font-family: MyWebFont3">Вид топлива</td>
                                <td width="10%" align="center" style="font-family: MyWebFont3">Цвет</td>
                                <td width="10%" align="center" style="font-family: MyWebFont3">Цена,$</td>
                                <td width="15%" align="center" role="tab">
                                    <button id="addButton" 
                                        ng-click="hideButton(1)" />

                                </td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="obj in auto | filter:searchText" class="row">
                                <td width="5%" align="center" ng-click="redirect(obj.id)">{{obj.id}}</td>
                                <td width="10%" align="center" ng-click="redirect(obj.id)">{{obj.mark}}</td>
                                <td width="10%" align="center" ng-click="redirect(obj.id)">{{obj.model}}</td>
                                <td width="10%" align="center" ng-click="redirect(obj.id)">{{obj.date}}</td>
                                <td width="15%" align="center" ng-click="redirect(obj.id)">{{obj.motor}}</td>
                                <td width="15%" align="center" ng-click="redirect(obj.id)">{{obj.fuel}}</td>
                                <td width="10%" align="center" ng-click="redirect(obj.id)">{{obj.color}}</td>
                                <td width="10%" align="center" ng-click="redirect(obj.id)">{{obj.cost}}</td>
                                <td width="15%" align="center" style="padding-left: 17px;">
                                    <button ng-click="deleteCar(obj.id)">Удалить</button>
                                    <button id="updateButton" 
                                         ng-click="reWriteUpd(obj.id,obj.mark,obj.model,obj.date,obj.motor,obj.fuel,obj.color,obj.cost)"/></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <hr>
            <!-- Footer -->
            <footer class="container-fluid bg-4 text-center">
                <p>Сайт для курсовой работы по СИБД <a href="https://www.bsuir.by/">БГУИР 2018</a></p>
            </footer>
        </div>
    </div>
    <script src="auto.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ"
        crossorigin="anonymous"></script>
</body>

</html>